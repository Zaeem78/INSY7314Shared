{"ast":null,"code":"import _objectSpread from\"C:/Users/pc/Desktop/INSY7314/INSY7314/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LoginPage=()=>{const[formData,setFormData]=useState({username:'',accountNumber:'',password:''});const[validationErrors,setValidationErrors]=useState({});const{login,isLoggedIn,loading,error,clearError}=useAuth();const navigate=useNavigate();useEffect(()=>{if(isLoggedIn){navigate('/dashboard');}},[isLoggedIn,navigate]);useEffect(()=>{// Clear any existing errors when component mounts\nclearError();},[clearError]);const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));// Clear validation error for this field\nif(validationErrors[name]){setValidationErrors(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:''}));}};const validateForm=()=>{const errors={};if(!formData.username.trim()){errors.username='Username is required';}if(!formData.accountNumber.trim()){errors.accountNumber='Account number is required';}else if(!/^[0-9]{1,20}$/.test(formData.accountNumber)){errors.accountNumber='Account number must be numeric and up to 20 digits';}if(!formData.password){errors.password='Password is required';}else if(formData.password.length<6){errors.password='Password must be at least 6 characters';}setValidationErrors(errors);return Object.keys(errors).length===0;};const handleSubmit=async e=>{e.preventDefault();if(!validateForm()){return;}const result=await login(formData.username,formData.accountNumber,formData.password);if(result.success){navigate('/dashboard');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"auth-form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login to Your Account\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",name:\"username\",value:formData.username,onChange:handleChange,className:validationErrors.username?'error':'',placeholder:\"Enter your username\"}),validationErrors.username&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:validationErrors.username})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"accountNumber\",children:\"Account Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"accountNumber\",name:\"accountNumber\",value:formData.accountNumber,onChange:handleChange,className:validationErrors.accountNumber?'error':'',placeholder:\"Enter your account number\"}),validationErrors.accountNumber&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:validationErrors.accountNumber})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",value:formData.password,onChange:handleChange,className:validationErrors.password?'error':'',placeholder:\"Enter your password\"}),validationErrors.password&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:validationErrors.password})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn\",disabled:loading,style:{width:'100%'},children:loading?'Logging in...':'Login'})]}),/*#__PURE__*/_jsxs(\"p\",{style:{textAlign:'center',marginTop:'20px'},children:[\"Don't have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Register here\"})]})]});};export default LoginPage;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","useAuth","jsx","_jsx","jsxs","_jsxs","LoginPage","formData","setFormData","username","accountNumber","password","validationErrors","setValidationErrors","login","isLoggedIn","loading","error","clearError","navigate","handleChange","e","name","value","target","prev","_objectSpread","validateForm","errors","trim","test","length","Object","keys","handleSubmit","preventDefault","result","success","className","children","onSubmit","htmlFor","type","id","onChange","placeholder","disabled","style","width","textAlign","marginTop","to"],"sources":["C:/Users/pc/Desktop/INSY7314/INSY7314/frontend/src/pages/LoginPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\n\nconst LoginPage = () => {\n  const [formData, setFormData] = useState({\n    username: '',\n    accountNumber: '',\n    password: ''\n  });\n  const [validationErrors, setValidationErrors] = useState({});\n\n  const { login, isLoggedIn, loading, error, clearError } = useAuth();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (isLoggedIn) {\n      navigate('/dashboard');\n    }\n  }, [isLoggedIn, navigate]);\n\n  useEffect(() => {\n    // Clear any existing errors when component mounts\n    clearError();\n  }, [clearError]);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n\n    // Clear validation error for this field\n    if (validationErrors[name]) {\n      setValidationErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n  };\n\n  const validateForm = () => {\n    const errors = {};\n\n    if (!formData.username.trim()) {\n      errors.username = 'Username is required';\n    }\n\n    if (!formData.accountNumber.trim()) {\n      errors.accountNumber = 'Account number is required';\n    } else if (!/^[0-9]{1,20}$/.test(formData.accountNumber)) {\n      errors.accountNumber = 'Account number must be numeric and up to 20 digits';\n    }\n\n    if (!formData.password) {\n      errors.password = 'Password is required';\n    } else if (formData.password.length < 6) {\n      errors.password = 'Password must be at least 6 characters';\n    }\n\n    setValidationErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!validateForm()) {\n      return;\n    }\n\n    const result = await login(formData.username, formData.accountNumber, formData.password);\n\n    if (result.success) {\n      navigate('/dashboard');\n    }\n  };\n\n  return (\n    <div className=\"auth-form\">\n      <h2>Login to Your Account</h2>\n\n      {error && (\n        <div className=\"error\">\n          {error}\n        </div>\n      )}\n\n      <form onSubmit={handleSubmit}>\n        <div className=\"form-group\">\n          <label htmlFor=\"username\">Username</label>\n          <input\n            type=\"text\"\n            id=\"username\"\n            name=\"username\"\n            value={formData.username}\n            onChange={handleChange}\n            className={validationErrors.username ? 'error' : ''}\n            placeholder=\"Enter your username\"\n          />\n          {validationErrors.username && (\n            <div className=\"error\">{validationErrors.username}</div>\n          )}\n        </div>\n\n        <div className=\"form-group\">\n          <label htmlFor=\"accountNumber\">Account Number</label>\n          <input\n            type=\"text\"\n            id=\"accountNumber\"\n            name=\"accountNumber\"\n            value={formData.accountNumber}\n            onChange={handleChange}\n            className={validationErrors.accountNumber ? 'error' : ''}\n            placeholder=\"Enter your account number\"\n          />\n          {validationErrors.accountNumber && (\n            <div className=\"error\">{validationErrors.accountNumber}</div>\n          )}\n        </div>\n\n        <div className=\"form-group\">\n          <label htmlFor=\"password\">Password</label>\n          <input\n            type=\"password\"\n            id=\"password\"\n            name=\"password\"\n            value={formData.password}\n            onChange={handleChange}\n            className={validationErrors.password ? 'error' : ''}\n            placeholder=\"Enter your password\"\n          />\n          {validationErrors.password && (\n            <div className=\"error\">{validationErrors.password}</div>\n          )}\n        </div>\n\n        <button\n          type=\"submit\"\n          className=\"btn\"\n          disabled={loading}\n          style={{ width: '100%' }}\n        >\n          {loading ? 'Logging in...' : 'Login'}\n        </button>\n      </form>\n\n      <p style={{ textAlign: 'center', marginTop: '20px' }}>\n        Don't have an account? <Link to=\"/register\">Register here</Link>\n      </p>\n    </div>\n  );\n};\n\nexport default LoginPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}